<!DOCTYPE html>
<html lang="en">
   <head>
      <meta charset="UTF-8">
      <meta name="viewport" content="width=device-width, initial-scale=1.0">
      <link rel="icon" href="website/favicon.png" type="image/png">
      <title>CODEWORDS</title>

      <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@tabler/icons-webfont@latest/tabler-icons.min.css">
      <link rel="stylesheet" href="website/styles.css">

      <script src="https://unpkg.com/ml-matrix@6.10.8/matrix.umd.js"></script>
      <script src="website/game.js"></script>
   </head>
   <body onload="start()">
      <header>
         <div class="header-left"></div>
         <h1>CODEWORDS</h1>
         <menu>
            <button id="help-button">
               <i class="ti ti-help"></i>
            </button>
            <button id="stats-button">
               <i class="ti ti-chart-bar"></i>
            </button>
         </menu>
      </header>
      <div class="container">
         <div class="scoreboard">
            <div class="spacer spacer-left"></div>
            <div id="clue">Loading...</div>
            <div class="info-text">
               <p id="win-lose-text"></p>
               <p class="see-stats">See the clues in <span class="link" id="stats-link">Statistics</span></p>
            </div>
            <div class="spacer spacer-right" id="round"></div>
         </div>
         <div id="gameBoard" class="board"></div>
         <div id="bottom">
            <span class="spacer1"></span>
            <span class="spacer2"></span>
            <div class="bottom-right">
               <button id="endTurn" class="floating-circle">
                  Next Round
                  <i class="ti ti-player-track-next-filled"></i>
               </button>
               <span id="remainingClues"></span>
            </div>
         </div>
         <footer>
            <div class="div-after-game">
               Come back tomorrow for a new game, or play
               <span class="link" id="yesterdays-link">Yesterday's</span>
            </div>
            <div class="div-during-game not-today">
               Showing <code>CODEWORDS</code> for <span class="date"></span>.
               Go to <span class="link" id="todays-link">Today's</span>.
            </div>
            <div class="div-during-game is-today">
               <code>CODEWORDS</code> for <span class="date"></span>.
            </div>
         </footer>
      </div>

      <div id="help-modal" class="modal">
        <div class="modal-content">
           <h2>How to play</h2>
          <button id="help-close" class="close">&times;</button>

          <h3>Find the secret 6 words in 6 tries.</h3>
          <ul>
             <li>Each clue consists of a <b>word</b> and a <b>number</b>.</li>
             <li>Tap the cards that match the theme of the clue.</li>
          </ul>

          <p>Example: <b>HAT 2</b></p>
          <ul class="card-list">
             <li class="small-card good">HEAD<span>(Guessed &amp; Intended)</span></li>
             <li class="small-card">FACE<span>(Intended clue)</li>
             <li class="small-card bad">JUPITER<span>(Incorrect)</span></li>
          </ul>
          <p class="gap-under">
            Round ended after guessing JUPITER.
          </p>

          <p>Example: <b>LODGE 3</b></p>
          <ul class="card-list">
             <li class="small-card good">POOL<span>(Guessed &amp; Intended)</span></li>
             <li class="small-card good">KING<span>(Guessed &amp; Intended)</span></li>
             <li class="small-card">EAGLE<span>(Intended clue)</span></li>
             <li class="small-card good">GERMANY<span>(Guessed by chance)</span></li>
          </ul>
          <p class="gap-under">
             Round ended after <b>3</b> guesses of the secret words.
          </p>
          <p class="gap-under">
             The bot considers words similar if they are often used in the same context.
             moderate can be a clue for degree, or boom for <a title="Boom Shack-A-Lak" class="has-title" href="https://en.wikipedia.org/wiki/Boom_Shack-A-Lak">shack</a>.
          </p>
          <p>
             A new puzzle is released daily at midnight.
          </p>
        </div>
      </div>

      <div id="stats-modal" class="modal">
         <div class="modal-content">
            <h2>Statistics</h2>
            <button id="stats-close" class="close">&times;</button>

            <div id="statsContainer" class="statsContainer">
               <div class="statsItem">
                  <span class="big-number" id="playedCount">0</span>
                  <span class="number-label">Played</span>
               </div>
               <div class="statsItem">
                  <span class="big-number" id="winPercentage">0</span>
                  <span class="number-label">Win %</span>
               </div>
               <div class="statsItem">
                  <span class="big-number" id="currentStreak">0</span>
                  <span class="number-label">Current Streak</span>
               </div>
               <div class="statsItem">
                  <span class="big-number" id="maxStreak">0</span>
                  <span class="number-label">Max Streak</span>
               </div>
            </div>

            <h3 class="gap-above">Rounds Used When Winning</h3>
            <div id="guessDistribution"></div>

            <h3 class="gap-above">Intended Clues From Game</h3>
            <div id="post-game-analysis"></div>

            <p class="gap-above" style="position: relative">
               <span id="message" class="modal-message" style="display: none;">Copied results to clipboard!</span>
               <button type="button" class="share-button" id="shareButton">Share <i class="ti ti-share"></i></button>
            </p>
         </div>
      </div>
   </body>
</html>
